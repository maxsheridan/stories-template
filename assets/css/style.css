@font-face {
    font-family: 'Fanwood Text';
    src: url(/assets/type/fanwoodtext.woff2) format('woff2');
    font-weight: 400;
    font-style: normal;
    font-display: swap;
}

@font-face {
    font-family: 'Fanwood Text';
    src: url(/assets/type/fanwoodtext_italic.woff2) format('woff2');
    font-weight: 400;
    font-style: italic;
    font-display: swap;
}

@font-face {
    font-family: 'Adhesion';
    src: url(/assets/type/adhesion.woff2) format('woff2');
    font-weight: 600;
    font-style: bold;
    font-display: swap;
}

:root {
    --ratio: 1.6;
    --space--2: calc(var(--space--1) / var(--ratio));
    --space--1: calc(var(--space-0) / var(--ratio));
    --space-0: 1rem;
    --space-1: calc(var(--space-0) * var(--ratio));
    --space-2: calc(var(--space-1) * var(--ratio));
    --space-3: calc(var(--space-2) * var(--ratio));
    --space-4: calc(var(--space-3) * var(--ratio));
    --max-width: 50ch;
    --body: 'Fanwood Text', system-ui, sans-serif;
    --heading: 'Adhesion', system-ui, sans-serif;
    --font-size-1: calc(1.25rem + .35vw);
    --font-size-2: calc(1.25rem + .7vw);
    --heading-1: calc(1.7rem + 2.5vw);
    --primary: #111;
    --accent: #CDC5C8;
    --hover: gray;
    --background: floralwhite;
    --background-rgb: 255, 250, 240;
    --slide-background: #111;
}

.dark-mode {
    --primary: floralwhite;
    --background: #111;
    --background-rgb: 17, 17, 17;
}

.gray {
    --primary: #282027;
    --background: #E4E4E4;
    --background-rgb: 228, 228, 228;
}

* {
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    border: none;
    background: none;
    overscroll-behavior: none;
}

html {
    text-size-adjust: none;
    -webkit-text-size-adjust: none;
    -webkit-tap-highlight-color: #fff0;
}

html:focus-within {
    scroll-behavior:smooth
}

body {
    z-index: 0;
    min-height: 100vh;
    min-height: 100dvh;
    font-family: var(--body);
    font-size: var(--font-size-1);
    font-weight: 400;
    font-style: normal;
    line-height: 1.5;
    color: var(--primary);
    background-color: var(--background);
}

@media (min-width: 641px) and (max-width: 1024px) {
    body {
        font-size: var(--font-size-2);
    }
}

.acme-all-purpose-slide-container {
    overflow-y: scroll;
    height: 100vh;
    scroll-snap-type: y mandatory;
    cursor: pointer;
}

main.stack {
    flex-direction: column;
}

h1,
h2 {
    font-family: var(--heading);
    font-size:  1.8em;
    font-weight: bold;
    line-height: 1.3;
}

.slide {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: relative;
    width: 100%;
    height: 100vh;
    height: 100dvh;
    scroll-snap-align: start;
    color: var(--accent);
    background-color: var(--slide-background);
    cursor: auto;
}

.slide a {
    display: flex;     
    justify-content: center;
    align-items: center; 
    width: 100%;
    height: 100%;
    color: var(--accent);
    text-decoration: none;
}

.slide-inner {
    max-width: 56ch;
    padding: 0 1.5rem;
}

.slide-inner:not(.title) > * + *:not(.icon):not(hr) {
    margin-block-start: var(--space-1);
}

.with-links > * + * {
    margin-block-start: var(--space-0);
}

.title * + * {
    margin-block-start: var(--space-2);
}

.slide h1, 
.slide h2 {
    font-family: var(--heading);
    font-size: var(--heading-1);
    text-align: center;
}

.slide .subtitle {
    font-family: var(--heading);
    font-size: calc(var(--heading-1) * .7)
}

.slide.link h2 {
    display: block;
    position: absolute;
    right: var(--space-2);
    bottom: var(--space-3);
    padding: 0 1.5rem;
    font-family: var(--heading);
    font-size: var(--heading-1);
    line-height: 1.3;
    text-align: center;
    color: var(--primary);
}

main:not(.stack) {
    display: flex;
    background-color: var(--slide-background);
}

.left {
    flex: 1;
    position: sticky;
    top: 0;
    z-index: 3;
    height: 100vh;
    height: 100dvh;
    box-shadow: inset -7px 0 0 var(--primary);
    animation: fadeIn 1.5s ease forwards;
    -webkit-animation: fadeIn 1.5s ease forwards;
}

.right {
    display: flex;
    flex: 1;
    justify-content: center;
    align-items: center;
    overflow-y: auto;
    background-color: var(--background);
}

.words-inner {
    max-width: var(--max-width);
    padding: 5rem 1.5rem 9rem;
}

.words-inner > div:not(.title) * + *:not(.divider):not(hr) {
    margin-block-start: var(--space-1);
}

a {
    color: var(--primary);
    /* off */
    text-decoration: none;
    text-decoration-thickness: 2px;
    text-decoration-color: var(--primary);
    text-underline-offset: 2px;
    text-decoration-skip-ink: all;
    pointer-events: auto;
    cursor: pointer;
} 

a:not(.slide.link a):hover,
    button:hover {
        opacity: .7;
}

@media (hover:hover) and (pointer:fine) {
    a:not(.slide.link a):hover,
    button:hover {
        opacity: .7;
    }
}

a:focus-visible,
button:focus-visible,
[role="button"]:focus-visible {
    outline: 4px solid var(--primary);
    outline-offset: 3px;
    border-radius: .25rem;
}

.index a:focus-visible {
    outline: 4px solid var(--accent);
}

.dropcap::first-letter {
    float: left;
    padding: .5rem .5rem 1.5rem 0;
    font-family: var(--heading);
    font-size: 7rem;
    font-weight: 600;
    line-height: 4.5rem;
}

hr {
    margin-block-start: var(--space-2);
    margin-block-end: var(--space-2);
    border-top: 2px dotted;
    background-color: transparent;
}

.slide hr {
    background-color: var(--accent);
}

.small {
    font-size: calc(var(--font-size-1) * .95);
    font-style: italic;
}

.flex {
    display: flex;
}

.block {
    display: block;
}

.center {
    text-align: center;
}

.italic {
    font-style: italic;
}

.arrow-down, 
.arrow-up {
    position: absolute;
    bottom: var(--space-2);
    left: 50%;
    transform: translateX(-50%);
    width: 2em;
    height: auto
}

.arrow-up {
    top: var(--space-2);
}

.connector {
    width: 1em;
    height: auto;
    margin-block-start: var(--space-3);
    margin-block-end: var(--space-3);
}

.divider {
    text-align: center;
    margin-block-start: var(--space-3);
    margin-block-end: var(--space-3);
}

.divider svg {
    width: 1.25em;
    height: auto;
}

.socials {
    display: flex;
    gap: var(--space--1);
    list-style: none;
}

.socials svg {
    width: .75em;
    height: auto;
}

#logo {
    width: 1.3em;
    height: auto;
}

footer.slider {
    display: flex;
    position: fixed;
    bottom: 0;
    right: 0;
    left: unset;
    width: 50%;
    height: 4rem;
    padding: 0 1.5rem;
    box-shadow: inset 0 7px 0 var(--primary);
    background: rgb(var(--background-rgb) , 0.95);
}

footer .slider-inner {
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    width: 100%;
    max-width: calc(var(--max-width) - 3rem);
    margin: 7px auto 0;
}

.acme-wrapper, 
.slider button {
    display: flex;
    font-family: var(--heading);
    font-size: 1.2em;
    line-height: 1.3;
    height: 1.3em;
    color: var(--primary);
    cursor: auto;
}

.slider button {
    cursor: pointer;
}

.slider-left,
.slider-right {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
}

.slider-left {
    left: 0;
}

.slider-center {
    margin: 0 auto;
}

.slider-right {
    right: 0;
}

.arrow-rgt {
    width: .75em;
    height: auto;
}

.hidden {
    opacity: 0;
    transform: translateY(100%);
    transition: opacity 0.3s ease, transform 0.3s ease;
}

.hidden.visible {
    opacity: 1;
    transform: translateY(0);
}

.skip-link {
    position: absolute;
    top: -999px;
    left: 50%;
    z-index: 10;
    transform: translateX(-50%);
    font-family: var(--body);
    color: var(--accent);
}

.skip-link:focus {
    top: 1rem;
}

.vh {
    position: absolute;
    overflow: hidden;
    width: 1px;
    height: 1px;
    clip-path: inset(50%);
    white-space: nowrap;
}

@media (max-width: 1024px) {
    main:not(.stack) {
        display: block;
    }

    .left {
        position: relative;
        height: 50vh;
        box-shadow: inset 0 -7px 0 var(--primary);
    }

    .words-inner {
        max-width: 54ch;
    }

    footer.slider {
        width: 100%;
        border-left: unset;
    }

    footer .slider-inner {
        max-width: calc(54ch - 3rem);
    }
}

@media (max-width: 768px) {
    .slide.link h2 {
        right: unset;
    }
}